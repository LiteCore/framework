function escapeHTML(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'\/]/g,function(e){return t[e]})}$.loadStylesheet=function(e,t){t=$.extend(t||{},{rel:"stylesheet",href:e}),$("<link/>",t).appendTo("head")},$.loadScript=function(e,t){return t=$.extend(t||{},{method:"GET",dataType:"script",cache:!0}),jQuery.ajax(e,t)},Number.prototype.toMoney=function(e=0){var t=_env.session.currency.decimals,n=_env.session.language.decimal_point,a=_env.session.language.thousands_separator,s=_env.session.currency.prefix,o=_env.session.currency.suffix,i=(_env.session.currency.code,this<0?"-":""),r=parseInt(c=Math.abs(+this||0).toFixed(t))+"",c=c-r,l=3<(l=r.length)?l%3:0;return i+s+(l?r.substr(0,l)+a:"")+r.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+a)+(t?n+Math.abs(c).toFixed(t).slice(2):"")+o},Number.prototype.toMoneyHTML=function(e){var t=_env.session.currency.decimals;_env.session.language.decimal_point,_env.session.language.thousands_separator,_env.session.currency.prefix,_env.session.currency.suffix,parseInt(Math.abs(+this||0).toFixed(t))};let keepAlive=setInterval(function(){$.get({url:window._env.platform.path+"ajax/keep_alive",cache:!1})},6e4),timer_ajax_search=($("body").on("click",'[data-toggle="buttons"] :checkbox',function(){$(this).is(":checked")?$(this).closest(".btn").addClass("active"):$(this).closest(".btn").removeClass("active")}),$("body").on("click",'[data-toggle="buttons"] :radio',function(){$(this).closest(".btn").addClass("active").siblings().removeClass("active")}),!function(t){t.fn.contextMenu=function(e){this.each(function(){this.config=e,self=this,t(this).on("contextmenu").on({})})}}(jQuery),!function(s){"use strict";function a(e){s(e).on("click.bs.dropdown",this.toggle)}let o='[data-toggle="dropdown"]';function i(e){let t=e.attr("data-target");var n="#"!==(t=t||(t=e.attr("href"))&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,""))?s(document).find(t):null;return n&&n.length?n:e.parent()}function r(a){a&&3===a.which||(s(".dropdown-backdrop").remove(),s(o).each(function(){var e=s(this),t=i(e),n={relatedTarget:this};!t.hasClass("open")||a&&"click"==a.type&&/input|textarea/i.test(a.target.tagName)&&s.contains(t[0],a.target)||(t.trigger(a=s.Event("hide.bs.dropdown",n)),a.isDefaultPrevented())||(e.attr("aria-expanded","false"),t.removeClass("open").trigger(s.Event("hidden.bs.dropdown",n)))}))}a.VERSION="3.4.1",a.prototype.toggle=function(e){var t=s(this);if(!t.is(".disabled, :disabled")){var n=i(t),a=n.hasClass("open");if(r(),!a){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n).on("click",r);a={relatedTarget:this};if(n.trigger(e=s.Event("show.bs.dropdown",a)),e.isDefaultPrevented())return;t.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(s.Event("shown.bs.dropdown",a))}return!1}},a.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=i(e),a=n.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&n.find(o).trigger("focus"),e.trigger("click");a=n.find(".dropdown-menu li:not(.disabled):visible a");if(a.length){let e=a.index(t.target);38==t.which&&0<e&&e--,40==t.which&&e<a.length-1&&e++,~e||(e=0),a.eq(e).trigger("focus")}}}};let e=s.fn.dropdown;s.fn.dropdown=function(n){return this.each(function(){var e=s(this);let t=e.data("bs.dropdown");t||e.data("bs.dropdown",t=new a(this)),"string"==typeof n&&t[n].call(e)})},s.fn.dropdown.Constructor=a,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=e,this},s(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),$(":input[required]").closest(".form-group").addClass("required"),$(".dropdown .form-select + .dropdown-menu :input").on("input",function(e){var t=$(this).closest(".dropdown"),n=t.find(":input:checked");t.find(":input:checked").length&&(t.find("li.active").removeClass("active"),n.data("title")?t.find(".form-select").text(n.data("title")):n.closest(".option").find(".title").length?t.find(".form-select").text(n.closest(".option").find(".title").text()):t.find(".form-select").text(n.parent().text()),n.closest("li").addClass("active"),t.trigger("click.bs.dropdown"))}).trigger("input"),$("body").on("change",'input[type="number"][data-decimals]',function(){var e=parseFloat($(this).val()),t=$(this).data("decimals");""!=t&&$(this).val(e.toFixed(t))}),$("body").on("click",".alert .close",function(e){e.preventDefault(),$(this).closest(".alert").fadeOut("fast",function(){$(this).remove()})}),$('#sidebar input[name="filter"]').on({input:function(){let t=$(this).val();""==$(this).val()?$("#box-apps-menu .app").css("display","block"):$("#box-apps-menu .app").each(function(){var e=new RegExp(""+t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"ig");console.log(),e.test($(this).text())?$(this).show():$(this).hide()})}}),null),xhr_search=null,lastTickedCheckbox=($('#search input[name="query"]').on({focus:function(){$("#search.dropdown").addClass("open")},blur:function(){$("#search.dropdown").removeClass("open")},input:function(){xhr_search&&xhr_search.abort();let e=this;""==$(this).val()?$("#search .results").html(""):($("#search .loader-wrapper").length||$("#search .results").show().html(['<div class="loader-wrapper text-center">','  <div class="loader" style="width: 48px; height: 48px;"></div>',"</div>"].join("\n")),clearTimeout(timer_ajax_search),timer_ajax_search=setTimeout(function(){xhr_search=$.ajax({type:"get",async:!0,cache:!1,url:window._env.backend.url+"search_results.json?query="+$(e).val(),dataType:"json",beforeSend:function(e){e.overrideMimeType("text/html;charset="+$("html meta[charset]").attr("charset"))},error:function(e,t,n){$("#search .results").text(t+": "+n)},success:function(e){$("#search .results").html(""),$('#search input[name="query"]').val()&&($.each(e,function(e,n){n.results.length&&($("#search .results").append("<h4>"+n.name+'</h4><ul class="flex flex-rows" data-group="'+n.name+'"></ul>'),$.each(n.results,function(e,t){t=$(['<li class="result">','  <a class="list-group-item" href="'+t.link+'" style="border-inline-start: 3px solid '+n.theme.color+';">','    <small class="id float-end">#'+t.id+"</small>",'    <div class="title">'+t.title+"</div>",'    <div class="description"><small>'+t.description+"</small></div>","  </a>","</li>"].join("\n"));$('#search .results ul[data-group="'+n.name+'"]').append(t)}))}),""==$("#search .results").html())&&$("#search .results").html('<p class="text-center no-results"><em>:(</em></p>')}})},500))}}),!function(n){"use strict";n.fn.Tabs=function(){this.each(function(){let e=this;this.$element=n(this),this.$element.find('[data-toggle="tab"]').each(function(){let t=n(this);t.on("select",function(){e.$element.find(".active").removeClass("active"),t.hasClass("nav-link")&&t.addClass("active"),t.closest(".nav-item").addClass("active"),n(t.attr("href")).show().siblings().hide()}),t.on("click",function(e){e.preventDefault(),history.replaceState(null,null,this.hash),t.trigger("select")})}),(this.$element.find(".active").length?this.$element.find('[data-toggle="tab"].active'):this.$element.find('[data-toggle="tab"]').first()).select()})},n(".nav-tabs").Tabs(),document.location.hash&&document.location.hash.match(/^#tab-/)&&n('[data-toggle="tab"][href="'+document.location.hash+'"]').trigger("select"),n(document).on("ajaxcomplete",function(){n(".nav-tabs").Tabs()})}(jQuery),$("body").on("click",'.data-table *[data-toggle="checkbox-toggle"], .data-table .checkbox-toggle',function(){return $(this).closest(".data-table").find("tbody td:first-child :checkbox").each(function(){$(this).prop("checked",!$(this).prop("checked")).trigger("change")}),!1}),$("body").on("click",".data-table tbody tr",function(e){$(e.target).is("a")||$(e.target).closest("a").length||$(e.target).is(".btn, :input, th, .fa-star, .fa-star-o")||$(this).find(":checkbox, :radio").first().trigger("click")}),null);$(".data-table td:first-child :checkbox").click(function(e){var t,n=$(".data-table td:first-child :checkbox");lastTickedCheckbox=(lastTickedCheckbox&&e.shiftKey&&(e=n.index(this),t=n.index(lastTickedCheckbox),n.slice(Math.min(e,t),Math.max(e,t)+1).prop("checked",lastTickedCheckbox.checked)),this)}),$("body").on("click",".table-dragable tbody .grabable",function(e){return e.preventDefault(),!1}),$("body").on("mousedown",".table-dragable tbody .grabable",function(e){let s=$(e.target).closest("tr"),t=e.pageY,n,a=(s=$(e.target).is("tr")?$(e.target):s).index();function o(a){!n&&Math.abs(a.pageY-t)<10||(n=!0,s.siblings().each(function(){var e=$(this),t=e.index(),n=e.offset().top;if(a.pageY>=n&&a.pageY<n+e.outerHeight())return t<s.index()?e.insertAfter(s):e.insertBefore(s),!1}))}$(s).addClass("grabbed"),$(s).closest("tbody").css("unser-input","unset"),$(document).mousemove(o).mouseup(function e(t){n&&a!=s.index()&&(n=!1),$(document).off("mousemove",o).off("mouseup",e),$(s).removeClass("grabbed"),$(s).closest("tbody").css("unser-input","")})}),$(".table-sortable thead th[data-sort]").click(function(){let a={};window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,t,n){a[t]=n}),a.sort=$(this).data("sort"),window.location.search=$.param(a)});
//# sourceMappingURL=app.min.js.map