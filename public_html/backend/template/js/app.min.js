$('#sidebar input[name="filter"]').on({input:function(){let s=$(this).val();""==$(this).val()?$("#box-apps-menu .app").css("display","block"):$("#box-apps-menu .app").each(function(){var e=new RegExp(""+s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"ig");console.log(),e.test($(this).text())?$(this).show():$(this).hide()})}});let timer_ajax_search=null,xhr_search=null;$('#search input[name="query"]').on({focus:function(){$("#search.dropdown").addClass("open")},blur:function(){$("#search.dropdown").removeClass("open")},input:function(){xhr_search&&xhr_search.abort();let e=this;""==$(this).val()?$("#search .results").html(""):($("#search .loader-wrapper").length||$("#search .results").show().html(['<div class="loader-wrapper text-center">','  <div class="loader" style="width: 48px; height: 48px;"></div>',"</div>"].join("\n")),clearTimeout(timer_ajax_search),timer_ajax_search=setTimeout(function(){xhr_search=$.ajax({type:"get",async:!0,cache:!1,url:window._env.backend.url+"search_results.json?query="+$(e).val(),dataType:"json",beforeSend:function(e){e.overrideMimeType("text/html;charset="+$("html meta[charset]").attr("charset"))},error:function(e,s,t){$("#search .results").text(s+": "+t)},success:function(e){$("#search .results").html(""),$('#search input[name="query"]').val()&&($.each(e,function(e,t){t.results.length&&($("#search .results").append("<h4>"+t.name+'</h4><ul class="flex flex-rows" data-group="'+t.name+'"></ul>'),$.each(t.results,function(e,s){s=$(['<li class="result">','  <a class="list-group-item" href="'+s.link+'" style="border-inline-start: 3px solid '+t.theme.color+';">','    <small class="id float-end">#'+s.id+"</small>",'    <div class="title">'+s.title+"</div>",'    <div class="description"><small>'+s.description+"</small></div>","  </a>","</li>"].join("\n"));$('#search .results ul[data-group="'+t.name+'"]').append(s)}))}),""==$("#search .results").html())&&$("#search .results").html('<p class="text-center no-results"><em>:(</em></p>')}})},500))}});